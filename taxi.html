<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Neon Taxi Assignment</title>
  <link rel="stylesheet" href="styles/main.css">
  <style>
    :root {
      color-scheme: dark;
      --chrome: rgba(7, 12, 21, 0.85);
      --accent: #f6c25b;
      --glow: rgba(246, 194, 91, 0.3);
      font-family: "Inter", system-ui, -apple-system, "Segoe UI", sans-serif;
    }

    body {
      min-height: 100vh;
      margin: 0;
      background: radial-gradient(circle at 24% 18%, rgba(246, 194, 91, 0.12), transparent 30%),
        radial-gradient(circle at 70% 12%, rgba(97, 198, 255, 0.16), transparent 32%),
        linear-gradient(135deg, #05080f, #0a1223 58%, #04070f);
      color: #fdf7eb;
      display: grid;
      grid-template-rows: 1fr;
      gap: 1rem;
      padding: clamp(1rem, 2vw, 1.5rem) clamp(1rem, 2vw, 2rem) 1.5rem;
    }

    .title-block h1 {
      margin: 0;
      font-size: clamp(1.35rem, 2.6vw, 1.9rem);
      letter-spacing: 0.6px;
      color: #ffeec4;
      text-shadow: 0 0 14px rgba(246, 194, 91, 0.25);
    }

    .title-block p {
      margin: 3px 0 0;
      color: #d8e5ff;
      font-size: 0.95rem;
    }

    .back-link {
      justify-self: end;
      align-self: start;
      text-decoration: none;
      padding: 0.5rem 0.9rem;
      border-radius: 999px;
      border: 1px solid rgba(246, 194, 91, 0.35);
      color: #0c0f17;
      background: linear-gradient(135deg, #f6c25b, #ffd58a);
      font-weight: 600;
      letter-spacing: 0.3px;
      box-shadow: 0 8px 18px rgba(246, 194, 91, 0.25);
      width: fit-content;
    }

    main {
      display: grid;
      grid-template-columns: 2fr 1fr;
      gap: 1rem;
      align-items: start;
      position: relative;
    }

    .frame {
      position: relative;
      border-radius: 16px;
      overflow: hidden;
      border: 1px solid rgba(246, 194, 91, 0.32);
      background: linear-gradient(180deg, rgba(7, 12, 21, 0.92), rgba(7, 12, 21, 0.76));
      box-shadow: 0 12px 28px rgba(0, 0, 0, 0.45);
    }

    .frame header {
      border: none;
      border-radius: 0;
      background: rgba(10, 14, 23, 0.94);
      box-shadow: inset 0 -1px 0 rgba(246, 194, 91, 0.18);
    }

    iframe {
      width: 100%;
      height: min(82vh, 920px);
      border: none;
      display: block;
      background: #01030a;
      will-change: transform;
    }

    .frame .status {
      padding: 0.75rem 1rem;
      font-size: 0.95rem;
      color: #f8e9c9;
      background: linear-gradient(90deg, rgba(246, 194, 91, 0.16), rgba(10, 12, 18, 0.8));
      border-top: 1px solid rgba(246, 194, 91, 0.22);
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .status .dot {
      width: 10px;
      height: 10px;
      border-radius: 999px;
      background: #ffb347;
      box-shadow: 0 0 12px rgba(246, 194, 91, 0.9);
    }

    .panel {
      border-radius: 16px;
      padding: 1rem 1.2rem;
      border: 1px solid rgba(246, 194, 91, 0.24);
      background: linear-gradient(160deg, rgba(7, 12, 21, 0.9), rgba(7, 12, 21, 0.74));
      box-shadow: 0 10px 24px rgba(0, 0, 0, 0.45);
    }

    .panel h2 {
      margin: 0 0 0.5rem;
      color: #ffeec4;
      letter-spacing: 0.5px;
    }

    .panel ul {
      margin: 0;
      padding-left: 1.2rem;
      color: #d8e5ff;
      line-height: 1.6;
    }

    .note {
      margin-top: 0.75rem;
      padding: 0.75rem 0.85rem;
      background: rgba(246, 194, 91, 0.08);
      border: 1px dashed rgba(246, 194, 91, 0.3);
      border-radius: 12px;
      color: #fbe3a0;
      font-size: 0.95rem;
    }

    @media (max-width: 960px) {
      body {
        padding-top: 1rem;
      }

      main {
        grid-template-columns: 1fr;
      }

      iframe {
        height: 64vh;
      }
    }
  </style>
</head>
<body>
  <main>
    <a class="back-link" href="index.html">Back to Hub</a>
    <section class="frame">
      <header>
        <div class="title-block">
          <h1 style="font-size: 1.25rem; margin: 0;">Play the Taxi Build</h1>
          <p style="margin: 2px 0 0;">Embedded directly from the original Netlify bundle.</p>
        </div>
      </header>
      <iframe id="taxi-frame" title="Great Taxi Assignment" src="https://great-taxi-assignment.netlify.app/" allowfullscreen></iframe>
      <div class="status" id="status">
        <span class="dot" aria-hidden="true"></span>
        <span id="status-text">Loading the remote taxi client…</span>
      </div>
    </section>

    <section class="panel">
      <h2>How to drive</h2>
      <ul>
        <li>Use <strong>WASD</strong> or the <strong>arrow keys</strong> to cruise around the city.</li>
        <li>Follow the highlighted customers, then deliver them to their drop-off zones.</li>
        <li>Brake gently before corners to avoid sliding past your fares.</li>
        <li>Tap <strong>R</strong> if you need to reset your car back onto the road.</li>
      </ul>
      <div class="note" id="fallback-note" hidden>
        The embedded Netlify build could not be reached from this environment. Check your connection or open
        <a href="https://great-taxi-assignment.netlify.app/" target="_blank" rel="noreferrer">the source build</a>
        in a new tab.
      </div>
    </section>
  </main>

  <script>
    const iframe = document.getElementById('taxi-frame');
    const status = document.getElementById('status-text');
    const note = document.getElementById('fallback-note');
    const dot = document.querySelector('.status .dot');

    let loaded = false;
    const timeout = setTimeout(() => {
      if (loaded) return;
      status.textContent = 'Remote build is taking longer than expected…';
      dot.style.background = '#ff8b5f';
      dot.style.boxShadow = '0 0 12px rgba(255, 139, 95, 0.9)';
      note.hidden = false;
    }, 6500);

    iframe.addEventListener('load', () => {
      loaded = true;
      clearTimeout(timeout);
      status.textContent = 'Taxi client loaded. Have fun!';
      dot.style.background = '#7be89a';
      dot.style.boxShadow = '0 0 12px rgba(123, 232, 154, 0.9)';
    });

    iframe.addEventListener('error', () => {
      loaded = false;
      clearTimeout(timeout);
      status.textContent = 'Unable to reach the remote build.';
      dot.style.background = '#ff5f5f';
      dot.style.boxShadow = '0 0 12px rgba(255, 95, 95, 0.9)';
      note.hidden = false;
    });
  </script>
</body>
</html>
